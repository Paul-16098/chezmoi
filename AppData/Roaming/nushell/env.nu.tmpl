# env
overlay new setup-env
load-env {
  COLORTERM: "truecolor"
}
$env.XDG_CONFIG_HOME = $"($env.HOME)\\.config"
$env.XDG_DATA_HOME = $"($env.HOME)\\.local\\share"

overlay new setup-paths

const NU_LIB_DIRS = $NU_LIB_DIRS ++ [($nu.data-dir)]
const NU_PLUGIN_DIRS = $NU_PLUGIN_DIRS ++ ["~/.cargo/bin/"]

load-env {
  PATH: ($env.PATH | par-each --keep-order { path expand } | uniq)
  CARAPACE_BRIDGES: 'zsh,fish,bash,inshellisense'
} # optional

overlay new setup
chcp 65001 | ignore

overlay hide setup
# overlay hide setup-env

overlay new nu_scripts\custom-completions

use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\uv\uv-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\cargo\cargo-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\cargo-make\cargo-make-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\dotnet\dotnet-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\vscode\vscode-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\rustup\rustup-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\scoop\scoop-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\winget\winget-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\ssh\ssh-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\curl\curl-completions.nu
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\custom-completions\curl\curl-completions.nu

overlay hide nu_scripts\custom-completions

use std/formats *
use std-rfc/conversions 'into list'
use std/clip
use {{.chezmoi.homeDir}}\OneDrive\文件\git\nu_scripts\nu-hooks\nu-hooks\direnv\direnv.nu
